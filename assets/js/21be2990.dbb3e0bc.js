(self.webpackChunk_motion_canvas_docs=self.webpackChunk_motion_canvas_docs||[]).push([[7918],{1532:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=1532,e.exports=t},3851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(7896),o=n(2784),a=n(6277),i=n(1077),c=n(7683),s=n(9817);const l={anchorWithStickyNavbar:"anchorWithStickyNavbar_fF9Z",anchorWithHideOnScrollNavbar:"anchorWithHideOnScrollNavbar_Yh18"};function d(e){let{as:t,id:n,...d}=e;const{navbar:{hideOnScroll:u}}=(0,c.L)();if("h1"===t||!n)return o.createElement(t,(0,r.Z)({},d,{id:void 0}));const m=(0,i.I)({id:"theme.common.headingLinkTitle",message:"Direct link to {heading}",description:"Title for link to heading"},{heading:"string"==typeof d.children?d.children:n});return o.createElement(t,(0,r.Z)({},d,{className:(0,a.Z)("anchor",u?l.anchorWithHideOnScrollNavbar:l.anchorWithStickyNavbar,d.className),id:n}),d.children,o.createElement(s.Z,{className:"hash-link",to:`#${n}`,"aria-label":m,title:m},"\u200b"))}},9573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);function o(){return r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},r.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}))}},8046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7896),o=n(2784);function a(e){let{width:t=24,height:n=24,...a}=e;return o.createElement("svg",(0,r.Z)({viewBox:"0 0 24 24",width:t,height:n,"aria-hidden":!0,fill:"currentColor"},a),o.createElement("path",{d:"M19.8,18.4L14,10.67V6.5l1.35-1.69C15.61,4.48,15.38,4,14.96,4H9.04C8.62,4,8.39,4.48,8.65,4.81L10,6.5v4.17L4.2,18.4 C3.71,19.06,4.18,20,5,20h14C19.82,20,20.29,19.06,19.8,18.4z"}))}},700:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);function o(){return r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},r.createElement("path",{d:"M3 15h8v-2H3v2zm0 4h8v-2H3v2zm0-8h8V9H3v2zm0-6v2h8V5H3zm10 0h8v14h-8V5z"}))}},8015:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);function o(){return r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},r.createElement("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}))}},4974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>oe});var r=n(3947),o=n(5448),a=n(7120),i=n(1727),c=n(5565),s=n(1263),l=n(3181),d=n(9573),u=n(2784);function m(){return u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},u.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}))}function p(){return u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},u.createElement("path",{d:"M8 5v14l11-7z"}))}function h(){return u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},u.createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"}))}function f(){return u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},u.createElement("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"}))}var v=n(700),g=n(8015),k=n(6277);function y(e){let{options:t,value:n,className:r,onChange:o}=e;const a=(0,u.useRef)(),i=(0,u.useRef)(),[c,s]=(0,u.useState)(!1);return(0,u.useEffect)((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[a]),u.createElement("div",{ref:a,className:(0,k.Z)("dropdown dropdown--right",c&&"dropdown--show",r)},u.createElement("a",{ref:i,className:"navbar__link",href:"#",onClick:e=>{e.preventDefault(),s(!c)}},t.find((e=>e.value===n))?.name??n),u.createElement("ul",{className:"dropdown__menu"},t.map(((e,r)=>u.createElement("li",{key:e.value},u.createElement("a",{href:"#",className:(0,k.Z)("dropdown__link",n===e.value&&"dropdown__link--active"),onClick:t=>{t.preventDefault(),o(e.value),s(!1),i.current.focus()},onKeyDown:e=>{r!==t.length-1||"Tab"!==e.key||e.shiftKey||(e.preventDefault(),s(!1),i.current.focus())}},e.name))))))}var b=n(6784);const w=new Map,x=new Map,Z=s.Z.canUseDOM?new IntersectionObserver((e=>{for(const o of e){const e=o.target;o.isIntersecting?w.set(e,o.intersectionRatio):w.delete(e)}const t=w.get(L);if(void 0!==t&&t>.75)return;let n=0,r=null;for(const o of x.values()){const e=w.get(o.parent);void 0!==e&&e>n&&(n=e,r=o)}r&&(void 0===t||n>t)&&z(r.setter,r.parent,r.ratio,r.onError).then(r.onBorrow)}),{threshold:[0,.25,.5,.75,1]}):null;let E=null,T=null,N=null,C=null,S=null,L=null,I=1,_=null;async function z(e,t,n,r){if(e!==S){if(C&&L&&C.finalBuffer.parentElement===L&&L?.removeChild(C.finalBuffer),S?.(null),S=e,L=t,_=r,!E){const{Logger:e,Player:t,ProjectMetadata:n,Stage:r,ValueDispatcher:o,DefaultPlugin:a}=await import("@motion-canvas/core"),{makeScene2D:i,Code:c,LezerHighlighter:s}=await import("@motion-canvas/2d");c.defaultHighlighter=new s(b.E.configure({dialect:"jsx ts"})),T=i((function*(){yield})),T.onReplaced=new o(T),E={name:"fiddle",logger:new e,plugins:[a()],scenes:[T],experimentalFeatures:!0},E.meta=new n(E),E.meta.shared.size.set(960),N=new t(E,{size:E.meta.shared.size.get()}),C=new r,C.configure({size:E.meta.shared.size.get()}),N.onRender.subscribe((async()=>{await C.render(N.playback.currentScene,N.playback.previousScene)})),N.onRecalculated.subscribe((()=>{C.finalBuffer.parentElement!==L&&(L?.append(C.finalBuffer),S(N))})),E.logger.onLogged.subscribe((e=>{"error"===e.level&&_?.(`Runtime error: ${e.message}`)}))}return I!==n&&(E.meta.shared.size.set([960,Math.floor(960/n)]),T.onReplaced.current={...T.onReplaced.current,size:E.meta.shared.size.get()},C.configure({size:E.meta.shared.size.get()}),I=n),N.activate(),N.requestReset(),N}}const M=[];function R(e){Object.entries(e).forEach((e=>{let[t,n]=e;var r;M.push({label:t,type:"function"==typeof n?(r=n,r.prototype&&r.prototype.constructor.name?"class":"function"):"variable"})}))}s.Z.canUseDOM&&(import("@motion-canvas/core").then(R).catch(),import("@motion-canvas/2d").then(R).catch());const D=i.Py.define(),B=i.Py.define({map:(e,t)=>{let{from:n,to:r,tooltip:o}=e;return{from:t.mapPos(n),to:t.mapPos(r),tooltip:o}}}),J=c.p.mark({class:"cm-underline"}),P=c.tk.baseTheme({".cm-underline":{textDecoration:"var(--ifm-color-danger-dark) wavy underline"}}),F=i.QQ.define({create:()=>c.p.none,update:(e,t)=>{e=e.map(t.changes);for(const n of t.effects){if(n.is(D)){e=e.update({filter:()=>!1});break}n.is(B)&&(e=e.update({add:[J.range(n.value.from,n.value.to)]}))}return e},provide:e=>c.tk.decorations.from(e)});class H extends i.uU{constructor(e){super(),this.tooltip=e}}const O=i.QQ.define({create:()=>i.Xs.empty,update:(e,t)=>{e=e.map(t.changes);for(const n of t.effects){if(n.is(D)){e=e.update({filter:()=>!1});break}n.is(B)&&(e=e.update({add:[new H(n.value.tooltip).range(n.value.from,n.value.to)]}))}return e},provide:e=>(0,c.bF)(((t,n)=>{let r;return t.state.field(e,!1).between(n,n,((e,t,n)=>(r={pos:e,end:t,create:()=>{const e=document.createElement("div");return e.textContent=n.tooltip,{dom:e}}},!1))),r}))});function V(e,t,n){const r=t.map((t=>(t.from===t.to&&(t=function(e,t){const n=(0,a.qz)(e).resolveInner(t,1);return{from:n.from,to:n.to}}(e.state,t.from)),B.of({tooltip:n,...t}))));return e.dispatch({effects:r}),!0}const j=7;function U(e,t){let n=(0,a.qz)(e).topNode.firstChild,r=null;for(;n;){if(n.type.is("ImportDeclaration")){r=n;break}n=n.nextSibling}if(!r)return null;if(t){const n=e.doc.lineAt(r.from);if(n.from>t.to||n.to<t.from)return null}let o=r;for(;o;){const e=o.nextSibling;if(!e.type.is("ImportDeclaration"))break;o=e}return{from:r.from+j,to:o.to}}function W(e){const{state:t}=e,n=U(t);n&&e.dispatch({effects:[a.SW.of(n)]})}const q=/ *\/\/ ?(\S+) ?(.*)/,$=["highlight-next-line","highlight-start","highlight-end","prettier-ignore"];var G=n(6253);const Q=a.Qf.define([{tag:G.pJ.comment,color:"var(--hl-comment)"},{tag:G.pJ.docComment,color:"var(--hl-comment)"},{tag:G.pJ.blockComment,color:"var(--hl-comment)"},{tag:G.pJ.keyword,color:"var(--hl-keyword)"},{tag:G.pJ.number,color:"var(--hl-number)"},{tag:G.pJ.inserted,color:"var(--hl-number)"},{tag:G.pJ.constant(G.pJ.propertyName),color:"var(--hl-constant)"},{tag:G.pJ.attributeName,color:"var(--hl-variable)"},{tag:G.pJ.variableName,color:"var(--hl-variable)"},{tag:G.pJ.propertyName,color:"var(--hl-variable)"},{tag:G.pJ.deleted,color:"var(--hl-string)"},{tag:G.pJ.string,color:"var(--hl-string)"},{tag:G.pJ.attributeValue,color:"var(--hl-string)"},{tag:G.pJ.tagName,color:"var(--hl-tag)"},{tag:G.pJ.typeName,color:"var(--hl-tag)"},{tag:G.pJ.punctuation,color:"var(--hl-punctuation)"},{tag:G.pJ.operator,color:"var(--hl-punctuation)"},{tag:G.pJ.function(G.pJ.variableName),color:"var(--hl-function)"},{tag:G.pJ.function(G.pJ.propertyName),color:"var(--hl-function)"},{tag:G.pJ.className,color:"var(--hl-class)"},{tag:G.pJ.character,color:"var(--hl-char)"}]),A=c.tk.theme({"&":{fontSize:"var(--ifm-code-font-size)",lineHeight:"21.04px",fontFamily:"var(--ifm-font-family-monospace)",color:"var(--hl-color)",backgroundColor:"var(--hl-background)"},"&.cm-focused .cm-cursor":{borderLeftColor:"var(--hl-color)"},"&.cm-focused":{outline:"none"},".cm-gutters":{backgroundColor:"var(--hl-background)",color:"var(--ifm-color-secondary-darkest)",borderRight:"1px solid var(--ifm-background-color)"},"& .cm-lineNumbers .cm-gutterElement":{paddingLeft:"var(--ifm-pre-padding)"},".cm-activeLineGutter":{backgroundColor:"var(--ifm-code-active-color)"},".cm-scroller":{fontFamily:"var(--ifm-font-family-monospace)",lineHeight:"var(--ifm-pre-line-height)",paddingTop:"var(--ifm-pre-padding)",paddingBottom:"var(--ifm-pre-padding)"},".cm-content":{padding:"0"},"& .cm-line":{paddingRight:"var(--ifm-pre-padding)"},"& .cm-selectionBackground, &.cm-focused .cm-selectionBackground, ::selection":{backgroundColor:"var(--ifm-code-selection-color)"},".cm-activeLine":{backgroundColor:"var(--ifm-code-active-color)"},".cm-selectionMatch":{backgroundColor:"var(--ifm-code-selection-color)"},".cm-foldPlaceholder":{backgroundColor:"var(--ifm-code-selection-color)",borderColor:"var(--ifm-color-emphasis-300)"},".cm-tooltip":{backgroundColor:"var(--ifm-background-surface-color)"}});var X=n(7243);class K extends Error{constructor(e,t){super(e),this.errors=t}}function Y(e,t){const n=`${t}.tsx`,r=new Set,o=[];let a,i=null;try{a=X.transform(e,{filename:n,presets:["typescript",["react",{runtime:"automatic",importSource:"@motion-canvas/2d"}]],plugins:[e=>{let{types:t}=e;return{visitor:{ImportDeclaration(e){e.node.source.value.startsWith("@motion-canvas/core")&&(e.node.source.value="@motion-canvas/core"),e.node.source.value.startsWith("@motion-canvas/2d")&&(e.node.source.value="@motion-canvas/2d")},ReferencedIdentifier(e){const{node:n,scope:a}=e;t.isIdentifier(n)&&!a.hasBinding(n.name)&&(r.add(n.name),o.push({from:n.start,to:n.end,tooltip:`Cannot find name '${n.name}'.`}))}}}}]})}catch(c){const e=/(.*) \(\d+:\d+\)/.exec(c.message.slice(n.length+1));i=e?e[1]:c.message,c.loc&&o.push({from:c.pos,to:c.pos,tooltip:i})}if(o.length>0)throw new K(i??`Cannot find names: ${Array.from(r).join(", ")}\nDid you forget to import them?`,o);return a.code}function ee(e){const[t,n]=(0,u.useState)(e?.current);return(0,u.useEffect)((()=>e&&e.subscribe(n)),[e]),t}var te=n(6109),ne=n(8888);const re={root:"root_icgl",layoutControl:"layoutControl_X__N",icon:"icon_brRG",active:"active_qxTr",progress:"progress_HsLC",controls:"controls_R4ai",previewOnly:"previewOnly_FFUw",section:"section_UscS",disabled:"disabled_egkt",error:"error_N64d",editor:"editor_xQGp",source:"source_Dq6N",preview:"preview_C9cZ",button:"button_ESGX",picker:"picker_Whdf",codeOnly:"codeOnly_lee0"};function oe(e){let{children:t,className:n,mode:b="editor",ratio:w="4"}=e;const[I,_]=(0,u.useState)(null),R=(0,u.useRef)(null),B=(0,u.useRef)(),J=(0,u.useRef)(),[H,j]=(0,u.useState)(b),{pathname:G}=(0,l.TH)(),[X,oe]=(0,u.useState)(null),ae=ee(I?.onDurationChanged),ie=ee(I?.onFrameChanged),ce=ee(I?.onStateChanged),[se,le]=(0,u.useState)(null),[de,ue]=(0,u.useState)(null),me=(0,u.useMemo)((()=>{if(w.includes("/")){const e=w.split("/"),t=parseFloat(e[0])/parseFloat(e[1]);if(!isNaN(t))return t}const e=parseFloat(w);return isNaN(e)?4:e}),[w]),pe=async function(e,t){void 0===t&&(t=!0),await z(_,J.current,me,oe);try{const o=await async function(e,t){const n=Y(e,t);return(await import(URL.createObjectURL(new Blob([n],{type:"text/javascript"})))).default}(e.sliceString(0),G);return r=o,T&&(T.onReplaced.current=r),ue(e),t&&!de?.eq(e)&&J.current.animate((void 0===n&&(n=4),[{boxShadow:"0 0 0px 0 #ccc inset",easing:"cubic-bezier(0.33, 1, 0.68, 1)"},{boxShadow:`0 0 0px ${n}px #ccc inset`,easing:"cubic-bezier(0.32, 0, 0.67, 0)"},{boxShadow:"0 0 0px 0 #ccc inset"}]),{duration:300}),!0}catch(o){return o instanceof K&&V(R.current,o.errors,o.message),oe(o.message),I?.togglePlayback(!1),!1}var n,r},he=async e=>{ve(e);const t=function(e){const t=U(e);let n=!1;return e.field(a.iQ,!1).between(t.from,t.to,(()=>(n=!0,!1))),n}(R.current.state);R.current.setState(ge[e].state),await pe(ge[e].state.doc),t&&W(R.current)},[fe,ve]=(0,u.useState)(0),ge=(0,u.useMemo)((()=>function(e){let t={name:"Default",lines:[]};const n=[t];for(const r of e.split("\n")){const e=q.exec(r);if(!e){t.lines.push(r);continue}const[,o,a]=e;$.includes(o)||("snippet"===o?t.lines.length>0?(t={name:a,lines:[]},n.push(t)):t.name=a:t.lines.push(r))}return n}(t).map((e=>({name:e.name,state:i.yy.create({doc:i.xv.of(e.lines),extensions:[ne.Xy,c.$f.of([r.oc,{key:"Mod-s",preventDefault:!0,run:e=>(pe(e.state.doc),!0)}]),c.tk.updateListener.of((e=>{le(e.state.doc),e.docChanged&&(oe(null),R.current.dispatch({effects:[D.of(null)]}))})),o.Lz.data.of({autocomplete:e=>{if("String"===(0,a.qz)(e.state).resolveInner(e.pos,-1).name)return;const t=e.matchBefore(/\w*/);return t.from!==t.to||e.explicit?{from:t.from,options:M}:null}}),a.rs.of(((e,t,n)=>U(e,{from:t,to:n}))),[F,O,P],(0,o.eJ)({jsx:!0,typescript:!0}),(0,a.nF)(Q),A]})})))),[t]);s.Z.canUseDOM||ge.forEach((e=>{Y(e.state.doc.sliceString(0),G)})),(0,u.useEffect)((()=>(R.current=new c.tk({parent:B.current,state:ge[fe].state}),W(R.current),function(e,t,n,r,o){x.has(e)||(Z?.observe(t),x.set(e,{setter:e,parent:t,ratio:n,onError:r,onBorrow:o}))}(_,J.current,me,oe,(async e=>{await pe(ge[fe].state.doc,!1)&&"code"!==H&&e.togglePlayback(!0)})),()=>{!function(e){const t=x.get(e);t&&(Z?.unobserve(t.parent),x.delete(e)),S===e&&E&&(N.deactivate(),S=null,L=null,C.finalBuffer.remove())}(_),R.current.destroy()})),[]);const ke=(0,u.useMemo)((()=>{const e=ge[0].state,t=U(e);let n=e.doc;return t&&(n=n.replace(t.from,t.to,i.xv.of(["..."]))),n.toString()+"\n"}),[ge]),ye=de&&se&&!se.eq(de),be=se&&!se.eq(ge[fe].state.doc)||ye;return u.createElement("div",{className:(0,k.Z)(re.root,n,{[re.codeOnly]:"code"===H,[re.previewOnly]:"preview"===H})},u.createElement("div",{className:re.layoutControl},u.createElement("button",{className:(0,k.Z)(re.icon,"code"===H&&re.active),onClick:()=>{j("code"),I?.togglePlayback(!1)},title:"Source code"},u.createElement(g.Z,null)),u.createElement("button",{className:(0,k.Z)(re.icon,"editor"===H&&re.active),onClick:()=>j("editor"),title:"Editor with preview"},u.createElement(v.Z,null)),u.createElement("button",{className:(0,k.Z)(re.icon,"preview"===H&&re.active),onClick:()=>j("preview"),title:"Preview"},u.createElement(d.Z,null))),u.createElement("div",{className:re.preview,style:{aspectRatio:w},ref:J},!I&&u.createElement("div",null,"Press play to preview the animation")),ae>0&&u.createElement("div",{className:re.progress,style:{width:I?ie/ae*100+"%":0}}),u.createElement("div",{className:re.controls},u.createElement("div",{className:re.section},ye&&u.createElement("button",{onClick:()=>pe(R.current.state.doc),className:re.button},u.createElement("kbd",null,"CTRL"),u.createElement("kbd",null,"S"),u.createElement("small",null,"Update preview"))),u.createElement("div",{className:(0,k.Z)(re.section,0===ae&&I&&re.disabled)},u.createElement("button",{className:re.icon,onClick:()=>I?.requestPreviousFrame()},u.createElement(f,null)),u.createElement("button",{className:re.icon,onClick:async()=>{if(I){let e=!0;de||(e=await pe(R.current.state.doc)),e&&I.togglePlayback()}else{const e=await z(_,J.current,me,oe);await pe(R.current.state.doc)&&e.togglePlayback(!0)}}},!I||(ce?.paused??1)?u.createElement(p,null):u.createElement(m,null)),u.createElement("button",{className:re.icon,onClick:()=>I?.requestNextFrame()},u.createElement(h,null))),u.createElement("div",{className:re.section},1===ge.length&&be&&u.createElement("button",{className:re.button,onClick:()=>he(0)},u.createElement("small",null,"Reset example")),ge.length>1&&u.createElement(y,{className:re.picker,value:be?-1:fe,onChange:he,options:ge.map(((e,t)=>({value:t,name:e.name}))).concat(be?{value:-1,name:"Custom"}:[])}))),X&&u.createElement("pre",{className:re.error},X),u.createElement("div",{className:re.editor,ref:B},u.createElement(te.Z,{className:re.source,language:"tsx"},"code"===H?ge[fe].state.doc.toString():ke)))}},6030:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(9817),o=n(8046),a=n(2784),i=n(4627);function c(e){let{name:t}=e;return a.createElement("a",{className:i.Z.contributor,title:t,href:`https://github.com/${t}`,target:"_blank"},a.createElement("img",{loading:"lazy",src:`https://github.com/${t}.png`,width:20,height:20,alt:`${t}'s avatar`}))}var s=n(7644);function l(e){let{user:t,pr:n,experimental:l,children:d}=e;return a.createElement("li",{className:i.Z.element},a.createElement(c,{name:t}),l&&a.createElement(r.Z,{to:"/docs/experimental",title:"Experimental feature"},a.createElement(o.Z,{className:"experimental"})),d,n&&a.createElement(s.Z,{id:n}))}},6139:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4627),o=n(3851),a=n(2784);const i={feat:"New features \ud83c\udf89",fix:"Fixed bugs \ud83d\udc1b"},c={feat:"new-features",fix:"fixed-bugs"};function s(e){let{type:t,children:n}=e;return a.createElement(a.Fragment,null,a.createElement(o.Z,{id:c[t],as:"h3"},i[t]),a.createElement("ul",{className:r.Z.group},n))}},7644:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2784),o=n(4627);function a(e){let{id:t}=e;return r.createElement("a",{className:o.Z.pr,title:`Pull request #${t}`,href:`https://github.com/motion-canvas/motion-canvas/pull/${t}`,target:"_blank"},r.createElement("small",null,"#",t))}},9849:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>y,contentTitle:()=>g,default:()=>Z,frontMatter:()=>v,metadata:()=>k,toc:()=>b});var r=n(7896),o=(n(2784),n(876)),a=n(6139),i=n(6030),c=n(9817),s=n(8046),l=n(4974),d=n(6109),u=n(7644),m=n(1291),p=n(8742),h=n(5531),f=n(1360);const v={slug:"version-3.12.0",title:"Motion Canvas v3.12.0",description:"Bit of a hefty update.",authors:"aarthificial"},g=void 0,k={permalink:"/blog/version-3.12.0",editUrl:"https://github.com/motion-canvas/motion-canvas/blob/main/packages/docs/blog/2023-12-31-version-3.12.0.mdx",source:"@site/blog/2023-12-31-version-3.12.0.mdx",title:"Motion Canvas v3.12.0",description:"Bit of a hefty update.",date:"2023-12-31T00:00:00.000Z",formattedDate:"December 31, 2023",tags:[],readingTime:3.04,hasTruncateMarker:!1,authors:[{name:"Jacob",title:"Motion Canvas Creator",url:"https://twitter.com/aarthificial",imageURL:"https://github.com/aarthificial.png",key:"aarthificial"}],frontMatter:{slug:"version-3.12.0",title:"Motion Canvas v3.12.0",description:"Bit of a hefty update.",authors:"aarthificial"},prevItem:{title:"Motion Canvas v3.13.0",permalink:"/blog/version-3.13.0"},nextItem:{title:"Motion Canvas v3.11.0",permalink:"/blog/version-3.11.0"}},y={authorsImageUrls:[void 0]},b=[],w={toc:b},x="wrapper";function Z(e){let{components:t,...n}=e;return(0,o.kt)(x,(0,r.Z)({},w,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(a.Z,{type:"feat",mdxType:"IssueGroup"},(0,o.kt)(i.Z,{user:"aarthificial",mdxType:"Issue"},"The points of a"," ",(0,o.kt)(c.Z,{to:"/api/2d/components/Line",mdxType:"Link"},(0,o.kt)("code",null,"Line"))," ","can now be tweened.",(0,o.kt)(u.Z,{id:853,mdxType:"PR"}),(0,o.kt)(l.Z,{mode:"preview",ratio:"3",className:"margin-top--sm margin-bottom--sm",mdxType:"Fiddle"},h.Z)),(0,o.kt)(i.Z,{user:"aarthificial",mdxType:"Issue"},(0,o.kt)(c.Z,{to:"/api/2d/components/Txt",mdxType:"Link"},(0,o.kt)("code",null,"Txt"))," ","nodes can now be nested inside each other.",(0,o.kt)(u.Z,{id:861,mdxType:"PR"}),(0,o.kt)(l.Z,{mode:"code",ratio:"3",className:"margin-top--sm margin-bottom--sm",mdxType:"Fiddle"},m.Z)),(0,o.kt)(i.Z,{user:"aarthificial",pr:852,mdxType:"Issue"},"New"," ",(0,o.kt)(c.Z,{to:"/docs/hierarchy#querying-the-hierarchy",mdxType:"Link"},"querying helpers")," ","let you find nodes in the scene."),(0,o.kt)(i.Z,{user:"rmhartog",pr:832,mdxType:"Issue"},"Transitions can now control which scene"," ",(0,o.kt)(c.Z,{to:"/api/core/transitions/#useTransition-useTransition-previousOnTop",mdxType:"Link"},"is drawn on top"),"."),(0,o.kt)(i.Z,{user:"rmhartog",pr:831,mdxType:"Issue"},"A new"," ",(0,o.kt)(c.Z,{to:"/api/2d/components/Video#playbackRate",mdxType:"Link"},(0,o.kt)("code",null,"Video.playbackRate"))," ","property lets you control the speed of a video."),(0,o.kt)(i.Z,{user:"aarthificial",pr:876,mdxType:"Issue"},"This version introduces the concept of experimental features. Marked with"," ",(0,o.kt)(c.Z,{to:"/docs/experimental",title:"Experimental feature",mdxType:"Link"},(0,o.kt)(s.Z,{className:"experimental",mdxType:"IconScience"})),", these features are meant mostly for testing and gathering feedback. Find out more about them ",(0,o.kt)(c.Z,{to:"/docs/experimental",mdxType:"Link"},"in this dedicated section"),"."),(0,o.kt)(i.Z,{user:"aarthificial",pr:879,pr:884,experimental:!0,mdxType:"Issue"},"New ",(0,o.kt)(c.Z,{to:"/docs/plugins/editor",mdxType:"Link"},"Editor Plugins")," allow you to extend the editor's interface. With them, you can define custom tabs in the sidebar and draw overlays on top of the animation preview or the presenter."),(0,o.kt)(i.Z,{user:"aarthificial",mdxType:"Issue"},"The timeline can now be scrubbed by holding down ",(0,o.kt)("kbd",null,"LMB")," and dragging left or right.",(0,o.kt)(u.Z,{id:862,mdxType:"PR"}),(0,o.kt)("br",null),(0,o.kt)("small",null,"For complex animation, dragging to the left may lag a bit since the entire generator must be re-run each time.")),(0,o.kt)(i.Z,{user:"jmaen",pr:872,mdxType:"Issue"},"Hovering over the audio icon now reveals a volume slider that lets you adjust the volume."),(0,o.kt)(i.Z,{user:"Vija02",pr:856,mdxType:"Issue"},"The ",(0,o.kt)("kbd",null,"ArrowUp")," and ",(0,o.kt)("kbd",null,"ArrowDown")," keys allow you to control the volume."),(0,o.kt)(i.Z,{user:"aarthificial",pr:862,mdxType:"Issue"},"The animation range is no longer editable by default. Just like with the audio track, hold ",(0,o.kt)("kbd",null,"SHIFT")," before dragging to edit it."),(0,o.kt)(i.Z,{user:"Vaibhavi-Sita",pr:823,mdxType:"Issue"},"When looping is disabled, the editor will seek back to the start of the animation and stop there instead of pausing at the end."),(0,o.kt)(i.Z,{user:"CactusPuppy",pr:855,mdxType:"Issue"},(0,o.kt)(c.Z,{to:"/api/core/types/Vector2#topLeft",mdxType:"Link"},(0,o.kt)("code",null,"Vector2"))," ","now includes static properties representing each type of origin."),(0,o.kt)(i.Z,{user:"aarthificial",pr:859,mdxType:"Issue"},(0,o.kt)(c.Z,{to:"/api/2d/components/Node#applyState",mdxType:"Link"},(0,o.kt)("code",null,"applyState"))," ","can now be used to tween to the new state and not just immediately apply it."),(0,o.kt)(i.Z,{user:"aarthificial",mdxType:"Issue"},"The spawner has been deprecated in favor of the children property.",(0,o.kt)(u.Z,{id:858,mdxType:"PR"}),(0,o.kt)(d.Z,{language:"tsx",className:"margin-top--sm margin-bottom--sm",mdxType:"CodeBlock"},p.Z)),(0,o.kt)(i.Z,{user:"rmhartog",mdxType:"Issue"},"Project configuration now supports glob patterns",(0,o.kt)(u.Z,{id:834,mdxType:"PR"}),(0,o.kt)(d.Z,{language:"ts",className:"margin-top--sm margin-bottom--sm",mdxType:"CodeBlock"},f.Z)),(0,o.kt)(i.Z,{user:"rmhartog",pr:835,mdxType:"Issue"},"Opacity is clamped between ",(0,o.kt)("code",null,"0")," and ",(0,o.kt)("code",null,"1"),"."),(0,o.kt)(i.Z,{user:"aarthificial",pr:847,mdxType:"Issue"},"Errors that occur when loading an image are now properly reported in the editor.")),(0,o.kt)(a.Z,{type:"fix",mdxType:"IssueGroup"},(0,o.kt)(i.Z,{user:"aarthificial",pr:891,mdxType:"Issue"},"Added a missing ",(0,o.kt)("code",null,"middle")," property to the ",(0,o.kt)("code",null,"LayoutProps")," ","interface."),(0,o.kt)(i.Z,{user:"aarthificial",pr:883,mdxType:"Issue"},"Cardinal points now correctly account for the Node's offset."),(0,o.kt)(i.Z,{user:"aarthificial",pr:895,mdxType:"Issue"},'"Go to source" actions should work again.'),(0,o.kt)(i.Z,{user:"shaikan",pr:821,mdxType:"Issue"},"Unusual characters in file names are now properly handled."),(0,o.kt)(i.Z,{user:"SleeklyCoding",pr:787,mdxType:"Issue"},"When opening the output directory, it will be automatically created if it doesn't exist."),(0,o.kt)(i.Z,{user:"aarthificial",pr:863,mdxType:"Issue"},"Fixed line jitter under certain conditions."),(0,o.kt)(i.Z,{user:"rmhartog",pr:836,mdxType:"Issue"},"Correctly calculate bounding boxes of Txt nodes."),(0,o.kt)(i.Z,{user:"aarthificial",pr:829,mdxType:"Issue"},"Fixed tweening cardinal points.")),(0,o.kt)("small",null,"Check out ",(0,o.kt)(c.Z,{to:"/docs/updating",mdxType:"Link"},"the Update Guide")," for information on how to update your existing projects."))}Z.isMDXComponent=!0},4627:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={contributor:"contributor_Ndjr",pr:"pr_hMGy",group:"group_CvIc",element:"element_spNy"}},1360:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="import motionCanvas from '@motion-canvas/vite-plugin';\nimport {defineConfig} from 'vite';\n\nexport default defineConfig({\n  plugins: [\n    motionCanvas({\n      project: './src/projects/*.ts',\n    }),\n  ],\n});\n"},5531:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="import {Line, makeScene2D} from '@motion-canvas/2d';\nimport {createRef} from '@motion-canvas/core';\n\nexport default makeScene2D(function* (view) {\n  const line = createRef<Line>();\n  view.add(\n    <Line\n      ref={line}\n      points={[\n        [-150, 70],\n        [150, 70],\n        [0, -70],\n      ]}\n      stroke={'lightseagreen'}\n      lineWidth={8}\n      radius={20}\n      closed\n    />,\n  );\n\n  yield* line()\n    .points(\n      [\n        [-150, 0],\n        [0, 100],\n        [150, 0],\n        [150, -70],\n        [-150, -70],\n      ],\n      2,\n    )\n    .back(2);\n});\n"},8742:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="view.add(\n  // before\n  <Node spawner={() => range(count()).map(() => <Node />)} />,\n);\n\nview.add(\n  // after\n  <Node>{() => range(count()).map(() => <Node />)}</Node>,\n);\n"},1291:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="import {Txt, makeScene2D} from '@motion-canvas/2d';\n\nexport default makeScene2D(function* (view) {\n  view.fill('#141414');\n  view.add(\n    // prettier-ignore\n    <Txt fill={'white'} fontSize={32} width={720} textWrap>\n      Whereas recognition of the inherent dignity and of the{' '}\n      <Txt.i>equal</Txt.i> and inalienable rights of all members of\n      the human family is the foundation of <Txt.b>freedom</Txt.b>,\n      justice and <Txt fill=\"#25C281\">peace</Txt> in the world.\n    </Txt>,\n  );\n});\n"}}]);