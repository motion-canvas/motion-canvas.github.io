"use strict";(self.webpackChunk_motion_canvas_docs=self.webpackChunk_motion_canvas_docs||[]).push([[9543],{876:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>h});var a=t(2784);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),c=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=c(e.components);return a.createElement(s.Provider,{value:n},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=c(t),u=r,h=m["".concat(s,".").concat(u)]||m[u]||p[u]||i;return t?a.createElement(h,o(o({ref:n},d),{},{components:t})):a.createElement(h,o({ref:n},d))}));function h(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=u;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[m]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=t[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},9055:(e,n,t)=>{t.d(n,{Z:()=>m});var a=t(2784),r=t(6277),i=t(211),o=t(1077);const l={admonition:"admonition_qNG0",admonitionHeading:"admonitionHeading_l909",admonitionIcon:"admonitionIcon_UNbs",admonitionContent:"admonitionContent_oUmQ"};const s={note:{infimaClassName:"secondary",iconComponent:function(){return a.createElement("svg",{viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))},label:a.createElement(o.Z,{id:"theme.admonition.note",description:"The default label used for the Note admonition (:::note)"},"note")},tip:{infimaClassName:"success",iconComponent:function(){return a.createElement("svg",{viewBox:"0 0 12 16"},a.createElement("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))},label:a.createElement(o.Z,{id:"theme.admonition.tip",description:"The default label used for the Tip admonition (:::tip)"},"tip")},danger:{infimaClassName:"danger",iconComponent:function(){return a.createElement("svg",{viewBox:"0 0 12 16"},a.createElement("path",{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))},label:a.createElement(o.Z,{id:"theme.admonition.danger",description:"The default label used for the Danger admonition (:::danger)"},"danger")},info:{infimaClassName:"info",iconComponent:function(){return a.createElement("svg",{viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))},label:a.createElement(o.Z,{id:"theme.admonition.info",description:"The default label used for the Info admonition (:::info)"},"info")},caution:{infimaClassName:"warning",iconComponent:function(){return a.createElement("svg",{viewBox:"0 0 16 16"},a.createElement("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))},label:a.createElement(o.Z,{id:"theme.admonition.caution",description:"The default label used for the Caution admonition (:::caution)"},"caution")}},c={secondary:"note",important:"info",success:"tip",warning:"danger"};function d(e){const{mdxAdmonitionTitle:n,rest:t}=function(e){const n=a.Children.toArray(e),t=n.find((e=>a.isValidElement(e)&&"mdxAdmonitionTitle"===e.props?.mdxType)),r=a.createElement(a.Fragment,null,n.filter((e=>e!==t)));return{mdxAdmonitionTitle:t,rest:r}}(e.children);return{...e,title:e.title??n,children:t}}function m(e){const{children:n,type:t,title:o,icon:m}=d(e),p=function(e){const n=c[e]??e,t=s[n];return t||(console.warn(`No admonition config found for admonition type "${n}". Using Info as fallback.`),s.info)}(t),u=o??p.label,{iconComponent:h}=p,f=m??a.createElement(h,null);return a.createElement("div",{className:(0,r.Z)(i.k.common.admonition,i.k.common.admonitionType(e.type),"alert",`alert--${p.infimaClassName}`,l.admonition)},a.createElement("div",{className:l.admonitionHeading},a.createElement("span",{className:l.admonitionIcon},f),u),a.createElement("div",{className:l.admonitionContent},n))}},8046:(e,n,t)=>{t.d(n,{Z:()=>i});var a=t(7896),r=t(2784);function i(e){let{width:n=24,height:t=24,...i}=e;return r.createElement("svg",(0,a.Z)({viewBox:"0 0 24 24",width:n,height:t,"aria-hidden":!0,fill:"currentColor"},i),r.createElement("path",{d:"M19.8,18.4L14,10.67V6.5l1.35-1.69C15.61,4.48,15.38,4,14.96,4H9.04C8.62,4,8.39,4.48,8.65,4.81L10,6.5v4.17L4.2,18.4 C3.71,19.06,4.18,20,5,20h14C19.82,20,20.29,19.06,19.8,18.4z"}))}},8770:(e,n,t)=>{t.d(n,{Z:()=>o});var a=t(9817),r=t(6047),i=t(2784);function o(){return i.createElement(r.Z,{type:"experimental"},"This is an ",i.createElement(a.Z,{to:"/docs/experimental"},"experimental feature"),". The behavior and API may change drastically between minor releases.")}},6047:(e,n,t)=>{t.d(n,{Z:()=>p});var a=t(7896),r=t(8046),i=t(2784);function o(e){return i.createElement("svg",(0,a.Z)({viewBox:"0 0 24 24",fill:"currentColor"},e),i.createElement("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"}))}function l(e){return i.createElement("svg",(0,a.Z)({viewBox:"0 0 24 24",fill:"currentColor"},e),i.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}))}function s(e){return i.createElement("svg",(0,a.Z)({viewBox:"0 0 24 24",fill:"currentColor"},e),i.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}))}function c(e){return i.createElement("svg",(0,a.Z)({viewBox:"0 0 24 24",fill:"currentColor"},e),i.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}))}var d=t(9055);const m={icon:"icon_Fw4I"};function p(e){let{title:n,type:t,...p}=e;const u=(0,i.useMemo)((()=>{switch(t){case"tip":return s;case"caution":return c;case"danger":return o;case"experimental":return r.Z;default:return l}}),[t]);return"experimental"===t&&(n??="Experimental",t="caution"),i.createElement(i.Fragment,null,i.createElement(d.Z,(0,a.Z)({icon:i.createElement(u,{className:m.icon}),title:n,type:t},p)))}},3305:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var a=t(7896),r=(t(2784),t(876)),i=t(8770);const o={sidebar_position:5,slug:"/shaders"},l="Shaders",s={unversionedId:"advanced/shaders",id:"advanced/shaders",title:"Shaders",description:"Shaders allow you to apply custom effects to any node using WebGL.",source:"@site/docs/advanced/shaders.mdx",sourceDirName:"advanced",slug:"/shaders",permalink:"/docs/shaders",draft:!1,editUrl:"https://github.com/motion-canvas/motion-canvas/blob/main/packages/docs/docs/advanced/shaders.mdx",tags:[],version:"current",lastUpdatedBy:"Jacob",sidebarPosition:5,frontMatter:{sidebar_position:5,slug:"/shaders"},sidebar:"docs",previous:{title:"Filters and Effects",permalink:"/docs/filters-and-effects"},next:{title:"Spawners",permalink:"/docs/spawners"}},c={},d=[{value:"GLSL Preprocessor",id:"glsl-preprocessor",level:2},{value:"Default uniforms",id:"default-uniforms",level:2},{value:"Source and Destination",id:"source-and-destination",level:2},{value:"Custom uniforms",id:"custom-uniforms",level:2},{value:"Caching",id:"caching",level:2},{value:"View Caching",id:"view-caching",level:3}],m={toc:d},p="wrapper";function u(e){let{components:n,...t}=e;return(0,r.kt)(p,(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"shaders"},"Shaders"),(0,r.kt)("p",null,"Shaders allow you to apply custom effects to any node using WebGL."),(0,r.kt)(i.Z,{mdxType:"ExperimentalWarning"}),(0,r.kt)("p",null,"Shaders can be specified using the ",(0,r.kt)("a",{parentName:"p",href:"/api/2d/components/Node#shaders"},(0,r.kt)("inlineCode",{parentName:"a"},"shaders")),"\nproperty. In the simplest case, the value should be a string containing the GLSL\ncode for the fragment shader:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"// highlight-next-line\nimport myShader from './myShader.glsl';\n\n//...\n\nview.add(\n  <Circle\n    size={200}\n    fill=\"lightseagreen\"\n    // highlight-next-line\n    shaders={myShader}\n  />,\n);\n")),(0,r.kt)("p",null,"Below is an example of a simple shader that inverts the colors of the node:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-glsl",metastring:'title="myShader.glsl"',title:'"myShader.glsl"'},'#version 300 es\nprecision highp float;\n\n#include "@motion-canvas/core/shaders/common.glsl"\n\nvoid main() {\n    outColor = texture(sourceTexture, sourceUV);\n    outColor.rgb = 1.0 - outColor.rgb;\n}\n')),(0,r.kt)("h2",{id:"glsl-preprocessor"},"GLSL Preprocessor"),(0,r.kt)("p",null,"Motion Canvas comes with a simple GLSL preprocessor that lets you include files\nusing the ",(0,r.kt)("inlineCode",{parentName:"p"},"#include")," directive:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-glsl"},'#include "path-to-file"\n')),(0,r.kt)("p",null,"The path is resolved using the same rules as ",(0,r.kt)("inlineCode",{parentName:"p"},"import")," statements in JavaScript.\nIt can point to a relative file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-glsl"},'#include "../utils/math.glsl"\n')),(0,r.kt)("p",null,"Or to a file from another package:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-glsl"},'#include "@motion-canvas/core/shaders/common.glsl"\n')),(0,r.kt)("p",null,"For convenience, a GLSL file can be imported only once per shader. Each\nsubsequent import of the same file will be ignored so ",(0,r.kt)("inlineCode",{parentName:"p"},"#ifdef")," guards are not\nnecessary."),(0,r.kt)("h2",{id:"default-uniforms"},"Default uniforms"),(0,r.kt)("p",null,"The following uniforms are available in all shaders:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-glsl"},"in vec2 screenUV;\nin vec2 sourceUV;\nin vec2 destinationUV;\n\nout vec4 outColor;\n\nuniform float time;\nuniform float deltaTime;\nuniform float framerate;\nuniform int frame;\nuniform vec2 resolution;\nuniform sampler2D sourceTexture;\nuniform sampler2D destinationTexture;\nuniform mat4 sourceMatrix;\nuniform mat4 destinationMatrix;\n")),(0,r.kt)("p",null,"They can be included using the following directive:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-glsl"},'#include "@motion-canvas/core/shaders/common.glsl"\n')),(0,r.kt)("h2",{id:"source-and-destination"},"Source and Destination"),(0,r.kt)("p",null,"Shaders in Motion Canvas follow the same idea as\n",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation"},(0,r.kt)("inlineCode",{parentName:"a"},"globalCompositeOperation"))," in 2D canvas. The\n",(0,r.kt)("inlineCode",{parentName:"p"},"sourceTexture")," contains the node being rendered, and the ",(0,r.kt)("inlineCode",{parentName:"p"},"destinationTexture"),"\ncontains what has already been rendered to the screen. These two can be sampled\nusing ",(0,r.kt)("inlineCode",{parentName:"p"},"sourceUV")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"destinationUV")," respectively, and then combined in various\nways to produce the desired result."),(0,r.kt)("h2",{id:"custom-uniforms"},"Custom uniforms"),(0,r.kt)("p",null,"You can pass custom uniforms to the shader by replacing the shader string with a\nconfiguration object:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-tsx"},"// highlight-next-line\nimport myShader from './myShader.glsl';\n\n//...\n\nview.add(\n  <Circle\n    size={200}\n    fill=\"lightseagreen\"\n    // highlight-next-line\n    shaders={{\n      fragment: myShader,\n      uniforms: {\n        myFloat: 0.5,\n        myVec2: new Vector2(2, 5),\n        myColor: new Color('blue'),\n      },\n    }}\n  />,\n);\n")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"uniforms")," property is an object where the keys are the names of the\nuniforms and the values are what's passed to the shader."),(0,r.kt)("p",null,"The type of the uniform is inferred from the value:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"TypeScript"),(0,r.kt)("th",{parentName:"tr",align:null},"GLSL"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"number")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"float"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[number, number]")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"vec2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[number, number, number]")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"vec3"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[number, number, number, number]")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"vec4"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"https://gka.github.io/chroma.js/#color"},(0,r.kt)("inlineCode",{parentName:"a"},"Color"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"vec4"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/core/types/Vector2"},(0,r.kt)("inlineCode",{parentName:"a"},"Vector2"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"vec2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/core/types/BBox"},(0,r.kt)("inlineCode",{parentName:"a"},"BBox"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"vec4"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"/api/core/types/Spacing"},(0,r.kt)("inlineCode",{parentName:"a"},"Spacing"))),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"vec4"))))),(0,r.kt)("p",null,"With that in mind, the uniforms from the above example will be available in the\nshader as:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-glsl",metastring:'title="myShader.glsl"',title:'"myShader.glsl"'},"uniform float myFloat;\nuniform vec2 myVec2;\nuniform vec4 myColor;\n")),(0,r.kt)("p",null,"It's also possible to create custom classes that can be passed as uniforms by\nimplementing the ",(0,r.kt)("a",{parentName:"p",href:"/api/core/types/WebGLConvertible"},(0,r.kt)("inlineCode",{parentName:"a"},"WebGLConvertible"))," interface."),(0,r.kt)("h2",{id:"caching"},"Caching"),(0,r.kt)("p",null,"When a node is cached, its contents are first rendered to a separate canvas and\nthen transferred to the screen (You can read more about it in the\n",(0,r.kt)("a",{parentName:"p",href:"/docs/filters-and-effects#cached-nodes"},"Filters and Effects")," section) When a\nshader is applied to a descendant of a cached node, the ",(0,r.kt)("inlineCode",{parentName:"p"},"destinationTexture"),"\nwill only contain the things drawn in the context of that cached node and\nnothing else. This is analogous to how composite operations work."),(0,r.kt)("p",null,"Any node with a shader is automatically cached - this lets us figure out the\ncontents of the ",(0,r.kt)("inlineCode",{parentName:"p"},"sourceTexture")," before shaders are run. Caching requires us to\nknow the size and position of everything rendered by the node. This goes beyond\nits logical size. Things like shadows, strokes, and filters can make the\nrendered area larger. We account for that in the case of built-in effects, but\nfor custom shaders you may need to adjust the cache size manually. The\n",(0,r.kt)("a",{parentName:"p",href:"/api/2d/components/Node#cachePadding"},(0,r.kt)("inlineCode",{parentName:"a"},"cachePadding"))," property can be used to do exactly that. It\nspecifies the extra space around the node that should be included in the cache."),(0,r.kt)("h3",{id:"view-caching"},"View Caching"),(0,r.kt)("p",null,"By default, the size of the cache is limited to the visible area. This may cause\ncertain shaders to behave incorrectly when the node is partially off-screen. To\nfix this, you can increase the ",(0,r.kt)("a",{parentName:"p",href:"/api/2d/components/Node#cachePadding"},(0,r.kt)("inlineCode",{parentName:"a"},"cachePadding"))," of the view\nitself. It will act as a buffer around the visible area."))}u.isMDXComponent=!0}}]);