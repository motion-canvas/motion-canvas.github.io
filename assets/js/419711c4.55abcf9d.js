(self.webpackChunk_motion_canvas_docs=self.webpackChunk_motion_canvas_docs||[]).push([[1809],{1532:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=1532,e.exports=t},3851:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(7896),a=n(2784),o=n(6277),c=n(1077),i=n(7683),l=n(9817);const s={anchorWithStickyNavbar:"anchorWithStickyNavbar_fF9Z",anchorWithHideOnScrollNavbar:"anchorWithHideOnScrollNavbar_Yh18"};function u(e){let{as:t,id:n,...u}=e;const{navbar:{hideOnScroll:m}}=(0,i.L)();if("h1"===t||!n)return a.createElement(t,(0,r.Z)({},u,{id:void 0}));const d=(0,c.I)({id:"theme.common.headingLinkTitle",message:"Direct link to {heading}",description:"Title for link to heading"},{heading:"string"==typeof u.children?u.children:n});return a.createElement(t,(0,r.Z)({},u,{className:(0,o.Z)("anchor",m?s.anchorWithHideOnScrollNavbar:s.anchorWithStickyNavbar,u.className),id:n}),u.children,a.createElement(l.Z,{className:"hash-link",to:`#${n}`,"aria-label":d,title:d},"\u200b"))}},9573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2784);function a(){return r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},r.createElement("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}))}},8046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(7896),a=n(2784);function o(e){let{width:t=24,height:n=24,...o}=e;return a.createElement("svg",(0,r.Z)({viewBox:"0 0 24 24",width:t,height:n,"aria-hidden":!0,fill:"currentColor"},o),a.createElement("path",{d:"M19.8,18.4L14,10.67V6.5l1.35-1.69C15.61,4.48,15.38,4,14.96,4H9.04C8.62,4,8.39,4.48,8.65,4.81L10,6.5v4.17L4.2,18.4 C3.71,19.06,4.18,20,5,20h14C19.82,20,20.29,19.06,19.8,18.4z"}))}},700:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2784);function a(){return r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},r.createElement("path",{d:"M3 15h8v-2H3v2zm0 4h8v-2H3v2zm0-8h8V9H3v2zm0-6v2h8V5H3zm10 0h8v14h-8V5z"}))}},8015:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2784);function a(){return r.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},r.createElement("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}))}},4974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ee});var r=n(3947),a=n(9387),o=n(7120),c=n(1727),i=n(5565),l=n(1263),s=n(3181),u=n(9573),m=n(2784);function d(){return m.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},m.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}))}function p(){return m.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},m.createElement("path",{d:"M8 5v14l11-7z"}))}function f(){return m.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},m.createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"}))}function v(){return m.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},m.createElement("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"}))}var h=n(700),g=n(8015),b=n(6277);function y(e){let{options:t,value:n,className:r,onChange:a}=e;const o=(0,m.useRef)(),c=(0,m.useRef)(),[i,l]=(0,m.useState)(!1);return(0,m.useEffect)((()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[o]),m.createElement("div",{ref:o,className:(0,b.Z)("dropdown dropdown--right",i&&"dropdown--show",r)},m.createElement("a",{ref:c,className:"navbar__link",href:"#",onClick:e=>{e.preventDefault(),l(!i)}},t.find((e=>e.value===n))?.name??n),m.createElement("ul",{className:"dropdown__menu"},t.map(((e,r)=>m.createElement("li",{key:e.value},m.createElement("a",{href:"#",className:(0,b.Z)("dropdown__link",n===e.value&&"dropdown__link--active"),onClick:t=>{t.preventDefault(),a(e.value),l(!1),c.current.focus()},onKeyDown:e=>{r!==t.length-1||"Tab"!==e.key||e.shiftKey||(e.preventDefault(),l(!1),c.current.focus())}},e.name))))))}let k=null,w=null,E=null,x=null,C=null,N=null,Z=1,z=null;async function S(e,t,n,r){if(e!==C){if(x&&N&&x.finalBuffer.parentElement===N&&N?.removeChild(x.finalBuffer),C?.(null),C=e,N=t,z=r,!k){const{Logger:e,Player:t,ProjectMetadata:n,Stage:r,ValueDispatcher:a,DefaultPlugin:o}=await import("@motion-canvas/core"),{makeScene2D:c}=await import("@motion-canvas/2d");w=c((function*(){yield})),w.onReplaced=new a(w),k={name:"fiddle",logger:new e,plugins:[o()],scenes:[w],experimentalFeatures:!0},k.meta=new n(k),k.meta.shared.size.set(960),E=new t(k,{size:k.meta.shared.size.get()}),x=new r,x.configure({size:k.meta.shared.size.get()}),E.onRender.subscribe((async()=>{await x.render(E.playback.currentScene,E.playback.previousScene)})),E.onRecalculated.subscribe((()=>{x.finalBuffer.parentElement!==N&&(N?.append(x.finalBuffer),C(E))})),k.logger.onLogged.subscribe((e=>{"error"===e.level&&z?.(`Runtime error: ${e.message}`)}))}return Z!==n&&(k.meta.shared.size.set([960,Math.floor(960/n)]),w.onReplaced.current={...w.onReplaced.current,size:k.meta.shared.size.get()},x.configure({size:k.meta.shared.size.get()}),Z=n),E.activate(),E.requestReset(),E}}const _=[];function M(e){Object.entries(e).forEach((e=>{let[t,n]=e;var r;_.push({label:t,type:"function"==typeof n?(r=n,r.prototype&&r.prototype.constructor.name?"class":"function"):"variable"})}))}l.Z.canUseDOM&&(import("@motion-canvas/core").then(M).catch(),import("@motion-canvas/2d").then(M).catch());const L=c.Py.define(),R=c.Py.define({map:(e,t)=>{let{from:n,to:r,tooltip:a}=e;return{from:t.mapPos(n),to:t.mapPos(r),tooltip:a}}}),D=i.p.mark({class:"cm-underline"}),J=i.tk.baseTheme({".cm-underline":{textDecoration:"var(--ifm-color-danger-dark) wavy underline"}}),T=c.QQ.define({create:()=>i.p.none,update:(e,t)=>{e=e.map(t.changes);for(const n of t.effects){if(n.is(L)){e=e.update({filter:()=>!1});break}n.is(R)&&(e=e.update({add:[D.range(n.value.from,n.value.to)]}))}return e},provide:e=>i.tk.decorations.from(e)});class F extends c.uU{constructor(e){super(),this.tooltip=e}}const H=c.QQ.define({create:()=>c.Xs.empty,update:(e,t)=>{e=e.map(t.changes);for(const n of t.effects){if(n.is(L)){e=e.update({filter:()=>!1});break}n.is(R)&&(e=e.update({add:[new F(n.value.tooltip).range(n.value.from,n.value.to)]}))}return e},provide:e=>(0,i.bF)(((t,n)=>{let r;return t.state.field(e,!1).between(n,n,((e,t,n)=>(r={pos:e,end:t,create:()=>{const e=document.createElement("div");return e.textContent=n.tooltip,{dom:e}}},!1))),r}))});function B(e,t,n){const r=t.map((t=>(t.from===t.to&&(t=function(e,t){const n=(0,o.qz)(e).resolveInner(t,1);return{from:n.from,to:n.to}}(e.state,t.from)),R.of({tooltip:n,...t}))));return e.dispatch({effects:r}),!0}const P=7;function O(e,t){let n=(0,o.qz)(e).topNode.firstChild,r=null;for(;n;){if(n.type.is("ImportDeclaration")){r=n;break}n=n.nextSibling}if(!r)return null;if(t){const n=e.doc.lineAt(r.from);if(n.from>t.to||n.to<t.from)return null}let a=r;for(;a;){const e=a.nextSibling;if(!e.type.is("ImportDeclaration"))break;a=e}return{from:r.from+P,to:a.to}}function U(e){const{state:t}=e,n=O(t);n&&e.dispatch({effects:[o.SW.of(n)]})}const I=/ *\/\/ ?(\S+) ?(.*)/,V=["highlight-next-line","highlight-start","highlight-end","prettier-ignore"];var q=n(6253);const $=o.Qf.define([{tag:q.pJ.comment,color:"var(--hl-comment)"},{tag:q.pJ.docComment,color:"var(--hl-comment)"},{tag:q.pJ.blockComment,color:"var(--hl-comment)"},{tag:q.pJ.keyword,color:"var(--hl-keyword)"},{tag:q.pJ.number,color:"var(--hl-number)"},{tag:q.pJ.inserted,color:"var(--hl-number)"},{tag:q.pJ.constant(q.pJ.propertyName),color:"var(--hl-constant)"},{tag:q.pJ.attributeName,color:"var(--hl-variable)"},{tag:q.pJ.variableName,color:"var(--hl-variable)"},{tag:q.pJ.propertyName,color:"var(--hl-variable)"},{tag:q.pJ.deleted,color:"var(--hl-string)"},{tag:q.pJ.string,color:"var(--hl-string)"},{tag:q.pJ.attributeValue,color:"var(--hl-string)"},{tag:q.pJ.tagName,color:"var(--hl-tag)"},{tag:q.pJ.typeName,color:"var(--hl-tag)"},{tag:q.pJ.punctuation,color:"var(--hl-punctuation)"},{tag:q.pJ.operator,color:"var(--hl-punctuation)"},{tag:q.pJ.function(q.pJ.variableName),color:"var(--hl-function)"},{tag:q.pJ.function(q.pJ.propertyName),color:"var(--hl-function)"},{tag:q.pJ.className,color:"var(--hl-class)"},{tag:q.pJ.character,color:"var(--hl-char)"}]),W=i.tk.theme({"&":{fontSize:"var(--ifm-code-font-size)",lineHeight:"21.04px",fontFamily:"var(--ifm-font-family-monospace)",color:"var(--hl-color)",backgroundColor:"var(--hl-background)"},"&.cm-focused .cm-cursor":{borderLeftColor:"var(--hl-color)"},"&.cm-focused":{outline:"none"},".cm-gutters":{backgroundColor:"var(--hl-background)",color:"var(--ifm-color-secondary-darkest)",borderRight:"1px solid var(--ifm-background-color)"},"& .cm-lineNumbers .cm-gutterElement":{paddingLeft:"var(--ifm-pre-padding)"},".cm-activeLineGutter":{backgroundColor:"var(--ifm-code-active-color)"},".cm-scroller":{fontFamily:"var(--ifm-font-family-monospace)",lineHeight:"var(--ifm-pre-line-height)",paddingTop:"var(--ifm-pre-padding)",paddingBottom:"var(--ifm-pre-padding)"},".cm-content":{padding:"0"},"& .cm-line":{paddingRight:"var(--ifm-pre-padding)"},"& .cm-selectionBackground, &.cm-focused .cm-selectionBackground, ::selection":{backgroundColor:"var(--ifm-code-selection-color)"},".cm-activeLine":{backgroundColor:"var(--ifm-code-active-color)"},".cm-selectionMatch":{backgroundColor:"var(--ifm-code-selection-color)"},".cm-foldPlaceholder":{backgroundColor:"var(--ifm-code-selection-color)",borderColor:"var(--ifm-color-emphasis-300)"},".cm-tooltip":{backgroundColor:"var(--ifm-background-surface-color)"}});var j=n(7243);class G extends Error{constructor(e,t){super(e),this.errors=t}}function Q(e,t){const n=`${t}.tsx`,r=new Set,a=[];let o,c=null;try{o=j.transform(e,{filename:n,presets:["typescript",["react",{runtime:"automatic",importSource:"@motion-canvas/2d"}]],plugins:[e=>{let{types:t}=e;return{visitor:{ImportDeclaration(e){e.node.source.value.startsWith("@motion-canvas/core")&&(e.node.source.value="@motion-canvas/core"),e.node.source.value.startsWith("@motion-canvas/2d")&&(e.node.source.value="@motion-canvas/2d")},ReferencedIdentifier(e){const{node:n,scope:o}=e;t.isIdentifier(n)&&!o.hasBinding(n.name)&&(r.add(n.name),a.push({from:n.start,to:n.end,tooltip:`Cannot find name '${n.name}'.`}))}}}}]})}catch(i){const e=/(.*) \(\d+:\d+\)/.exec(i.message.slice(n.length+1));c=e?e[1]:i.message,i.loc&&a.push({from:i.pos,to:i.pos,tooltip:c})}if(a.length>0)throw new G(c??`Cannot find names: ${Array.from(r).join(", ")}\nDid you forget to import them?`,a);return o.code}function X(e){const[t,n]=(0,m.useState)(e?.current);return(0,m.useEffect)((()=>e&&e.subscribe(n)),[e]),t}var A=n(6109),K=n(8888);const Y={root:"root_icgl",layoutControl:"layoutControl_X__N",icon:"icon_brRG",active:"active_qxTr",progress:"progress_HsLC",controls:"controls_R4ai",previewOnly:"previewOnly_FFUw",section:"section_UscS",disabled:"disabled_egkt",error:"error_N64d",editor:"editor_xQGp",source:"source_Dq6N",preview:"preview_C9cZ",button:"button_ESGX",picker:"picker_Whdf",codeOnly:"codeOnly_lee0"};function ee(e){let{children:t,className:n,mode:Z="editor",ratio:z="4"}=e;const[M,R]=(0,m.useState)(null),D=(0,m.useRef)(null),F=(0,m.useRef)(),P=(0,m.useRef)(),[q,j]=(0,m.useState)(Z),{pathname:ee}=(0,s.TH)(),[te,ne]=(0,m.useState)(null),re=X(M?.onDurationChanged),ae=X(M?.onFrameChanged),oe=X(M?.onStateChanged),[ce,ie]=(0,m.useState)(null),[le,se]=(0,m.useState)(null),ue=(0,m.useMemo)((()=>{if(z.includes("/")){const e=z.split("/"),t=parseFloat(e[0])/parseFloat(e[1]);if(!isNaN(t))return t}const e=parseFloat(z);return isNaN(e)?4:e}),[z]),me=async function(e,t){void 0===t&&(t=!0),await S(R,P.current,ue,ne);try{const a=await async function(e,t){const n=Q(e,t);return(await import(URL.createObjectURL(new Blob([n],{type:"text/javascript"})))).default}(e.sliceString(0),ee);return r=a,w&&(w.onReplaced.current=r),se(e),t&&!le?.eq(e)&&P.current.animate((void 0===n&&(n=4),[{boxShadow:"0 0 0px 0 #ccc inset",easing:"cubic-bezier(0.33, 1, 0.68, 1)"},{boxShadow:`0 0 0px ${n}px #ccc inset`,easing:"cubic-bezier(0.32, 0, 0.67, 0)"},{boxShadow:"0 0 0px 0 #ccc inset"}]),{duration:300}),!0}catch(a){return a instanceof G&&B(D.current,a.errors,a.message),ne(a.message),M?.togglePlayback(!1),!1}var n,r},de=async e=>{fe(e);const t=function(e){const t=O(e);let n=!1;return e.field(o.iQ,!1).between(t.from,t.to,(()=>(n=!0,!1))),n}(D.current.state);D.current.setState(ve[e].state),await me(ve[e].state.doc),t&&U(D.current)},[pe,fe]=(0,m.useState)(0),ve=(0,m.useMemo)((()=>function(e){let t={name:"Default",lines:[]};const n=[t];for(const r of e.split("\n")){const e=I.exec(r);if(!e){t.lines.push(r);continue}const[,a,o]=e;V.includes(a)||("snippet"===a?t.lines.length>0?(t={name:o,lines:[]},n.push(t)):t.name=o:t.lines.push(r))}return n}(t).map((e=>({name:e.name,state:c.yy.create({doc:c.xv.of(e.lines),extensions:[K.Xy,i.$f.of([r.oc,{key:"Mod-s",preventDefault:!0,run:e=>(me(e.state.doc),!0)}]),i.tk.updateListener.of((e=>{ie(e.state.doc),e.docChanged&&(ne(null),D.current.dispatch({effects:[L.of(null)]}))})),a.Lz.data.of({autocomplete:e=>{if("String"===(0,o.qz)(e.state).resolveInner(e.pos,-1).name)return;const t=e.matchBefore(/\w*/);return t.from!==t.to||e.explicit?{from:t.from,options:_}:null}}),o.rs.of(((e,t,n)=>O(e,{from:t,to:n}))),[T,H,J],(0,a.eJ)({jsx:!0,typescript:!0}),(0,o.nF)($),W]})})))),[t]);l.Z.canUseDOM||ve.forEach((e=>{Q(e.state.doc.sliceString(0),ee)})),(0,m.useEffect)((()=>(D.current=new i.tk({parent:F.current,state:ve[pe].state}),U(D.current),async function(e,t,n,r){return C?null:S(e,t,n,r)}(R,P.current,ue,ne).then((async e=>{if(e){await me(ve[pe].state.doc,!1)&&"code"!==q&&e.togglePlayback(!0)}})),()=>{C===R&&k&&(E.deactivate(),C=null,N=null,x.finalBuffer.remove()),D.current.destroy()})),[]);const he=(0,m.useMemo)((()=>{const e=ve[0].state,t=O(e);let n=e.doc;return t&&(n=n.replace(t.from,t.to,c.xv.of(["..."]))),n.toString()+"\n"}),[ve]),ge=le&&ce&&!ce.eq(le),be=ce&&!ce.eq(ve[pe].state.doc)||ge;return m.createElement("div",{className:(0,b.Z)(Y.root,n,{[Y.codeOnly]:"code"===q,[Y.previewOnly]:"preview"===q})},m.createElement("div",{className:Y.layoutControl},m.createElement("button",{className:(0,b.Z)(Y.icon,"code"===q&&Y.active),onClick:()=>{j("code"),M?.togglePlayback(!1)},title:"Source code"},m.createElement(g.Z,null)),m.createElement("button",{className:(0,b.Z)(Y.icon,"editor"===q&&Y.active),onClick:()=>j("editor"),title:"Editor with preview"},m.createElement(h.Z,null)),m.createElement("button",{className:(0,b.Z)(Y.icon,"preview"===q&&Y.active),onClick:()=>j("preview"),title:"Preview"},m.createElement(u.Z,null))),m.createElement("div",{className:Y.preview,style:{aspectRatio:z},ref:P},!M&&m.createElement("div",null,"Press play to preview the animation")),re>0&&m.createElement("div",{className:Y.progress,style:{width:M?ae/re*100+"%":0}}),m.createElement("div",{className:Y.controls},m.createElement("div",{className:Y.section},ge&&m.createElement("button",{onClick:()=>me(D.current.state.doc),className:Y.button},m.createElement("kbd",null,"CTRL"),m.createElement("kbd",null,"S"),m.createElement("small",null,"Update preview"))),m.createElement("div",{className:(0,b.Z)(Y.section,0===re&&M&&Y.disabled)},m.createElement("button",{className:Y.icon,onClick:()=>M?.requestPreviousFrame()},m.createElement(v,null)),m.createElement("button",{className:Y.icon,onClick:async()=>{if(M){let e=!0;le||(e=await me(D.current.state.doc)),e&&M.togglePlayback()}else{const e=await S(R,P.current,ue,ne);await me(D.current.state.doc)&&e.togglePlayback(!0)}}},!M||(oe?.paused??1)?m.createElement(p,null):m.createElement(d,null)),m.createElement("button",{className:Y.icon,onClick:()=>M?.requestNextFrame()},m.createElement(f,null))),m.createElement("div",{className:Y.section},1===ve.length&&be&&m.createElement("button",{className:Y.button,onClick:()=>de(0)},m.createElement("small",null,"Reset example")),ve.length>1&&m.createElement(y,{className:Y.picker,value:be?-1:pe,onChange:de,options:ve.map(((e,t)=>({value:t,name:e.name}))).concat(be?{value:-1,name:"Custom"}:[])}))),te&&m.createElement("pre",{className:Y.error},te),m.createElement("div",{className:Y.editor,ref:F},m.createElement(A.Z,{className:Y.source,language:"tsx"},"code"===q?ve[pe].state.doc.toString():he)))}},6030:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(9817),a=n(8046),o=n(2784),c=n(4627);function i(e){let{name:t}=e;return o.createElement("a",{className:c.Z.contributor,title:t,href:`https://github.com/${t}`,target:"_blank"},o.createElement("img",{loading:"lazy",src:`https://github.com/${t}.png`,width:20,height:20,alt:`${t}'s avatar`}))}var l=n(7644);function s(e){let{user:t,pr:n,experimental:s,children:u}=e;return o.createElement("li",{className:c.Z.element},o.createElement(i,{name:t}),s&&o.createElement(r.Z,{to:"/docs/experimental",title:"Experimental feature"},o.createElement(a.Z,{className:"experimental"})),u,n&&o.createElement(l.Z,{id:n}))}},6139:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(4627),a=n(3851),o=n(2784);const c={feat:"New features \ud83c\udf89",fix:"Fixed bugs \ud83d\udc1b"},i={feat:"new-features",fix:"fixed-bugs"};function l(e){let{type:t,children:n}=e;return o.createElement(o.Fragment,null,o.createElement(a.Z,{id:i[t],as:"h3"},c[t]),o.createElement("ul",{className:r.Z.group},n))}},7644:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784),a=n(4627);function o(e){let{id:t}=e;return r.createElement("a",{className:a.Z.pr,title:`Pull request #${t}`,href:`https://github.com/motion-canvas/motion-canvas/pull/${t}`,target:"_blank"},r.createElement("small",null,"#",t))}},1569:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>d,default:()=>b,frontMatter:()=>m,metadata:()=>p,toc:()=>v});var r=n(7896),a=(n(2784),n(876)),o=n(6139),c=n(6030),i=n(7644),l=n(4974),s=n(9817),u=n(5093);const m={slug:"version-3.14.0",title:"Motion Canvas v3.14.0",authors:"aarthificial"},d=void 0,p={permalink:"/blog/version-3.14.0",editUrl:"https://github.com/motion-canvas/motion-canvas/blob/main/packages/docs/blog/2024-02-04-version-3.14.0.mdx",source:"@site/blog/2024-02-04-version-3.14.0.mdx",title:"Motion Canvas v3.14.0",description:"Shaders let you create custom visual effects",date:"2024-02-04T00:00:00.000Z",formattedDate:"February 4, 2024",tags:[],readingTime:.495,hasTruncateMarker:!1,authors:[{name:"Jacob",title:"Motion Canvas Creator",url:"https://twitter.com/aarthificial",imageURL:"https://github.com/aarthificial.png",key:"aarthificial"}],frontMatter:{slug:"version-3.14.0",title:"Motion Canvas v3.14.0",authors:"aarthificial"},nextItem:{title:"Motion Canvas v3.13.0",permalink:"/blog/version-3.13.0"}},f={authorsImageUrls:[void 0]},v=[],h={toc:v},g="wrapper";function b(e){let{components:t,...n}=e;return(0,a.kt)(g,(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)(o.Z,{type:"feat",mdxType:"IssueGroup"},(0,a.kt)(c.Z,{user:"aarthificial",experimental:!0,mdxType:"Issue"},(0,a.kt)(s.Z,{to:"/docs/shaders",mdxType:"Link"},"Shaders")," let you create custom visual effects using WebGL.",(0,a.kt)(i.Z,{id:929,mdxType:"PR"}),(0,a.kt)(i.Z,{id:920,mdxType:"PR"}),(0,a.kt)(l.Z,{mode:"preview",ratio:"3",className:"margin-top--sm margin-bottom--sm",mdxType:"Fiddle"},u.Z)),(0,a.kt)(c.Z,{user:"aarthificial",pr:921,mdxType:"Issue"},"The node inspector can be toggled on and off."),(0,a.kt)(c.Z,{user:"jmaen",pr:917,mdxType:"Issue"},"Number inputs can be edited by dragging left and right.")),(0,a.kt)("small",null,"Check out ",(0,a.kt)(s.Z,{to:"/docs/updating",mdxType:"Link"},"the Update Guide")," for information on how to update your existing projects."))}b.isMDXComponent=!0},4627:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={contributor:"contributor_Ndjr",pr:"pr_hMGy",group:"group_CvIc",element:"element_spNy"}},5093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="import {Rect, makeScene2D} from '@motion-canvas/2d';\nimport {waitFor} from '@motion-canvas/core';\n\n// Original shader created by ufffd\n// https://www.shadertoy.com/view/lcfXD8\nconst Shader = `\\\n#version 300 es\nprecision highp float;\n\nin vec2 screenUV;\nout vec4 outColor;\n\nuniform float time;\nuniform vec2 resolution;\n\n#define g(p) dot(sin(p),cos(p.zxy)) //\n\nfloat m(vec3 p){\n  return (1.0 + 0.2 * sin(p.y * 6e2))\n    * g(0.8 * g(8.0 * p) + 10.0 * p)\n    * (1.0 + sin(time + length(p.xy) / 0.1))\n    + 0.3 * sin(time * 0.15 + p.z * 5.0 + p.y)\n    * (2.0 + g((sin(time * 0.2 + p.z * 3.0) * 350.0 + 250.0) * p));\n}\n\nvoid main() {\n  vec3 r = normalize(vec3((screenUV - 0.5) * resolution, resolution.y));\n  vec3 p;\n  vec3 f;\n  float e = 50.0;\n  float d;\n  float i;\n\n  for (p.z = time / 4.0; i++ < 90.0 && e > 0.05; e = m(p += r * d)) {\n    d += 0.02 * e;\n  }\n\n  f.x = 0.06 + 0.06 * sin(p.z);\n  outColor = vec4(2.0 * m(p) - m(p - f) - m(p - f.yxy))\n    * smoothstep(0.75, 1.05, 1.0 / d);\n}\n`;\n\nexport default makeScene2D(function* (view) {\n  view.add(<Rect shaders={Shader} size={view.size} />);\n\n  yield* waitFor(10);\n});\n"}}]);